{"version":3,"file":"index.js","sources":["../src/context/CarouselProvider.tsx","../src/component/CarouselArrow/CarouselArrowModel.ts","../src/component/CarouselArrow/CarouselArrow.tsx","../src/component/CarouselPagination/CarouselPaginationModel.ts","../src/component/CarouselPagination/CarouselPagination.tsx","../src/component/Carousel/CarouselModel.ts","../src/component/Carousel/Carousel.tsx","../src/component/CarouselItem/CarouselItemModel.ts","../src/component/CarouselItem/CarouselItem.tsx"],"sourcesContent":["import React, {\n  useContext,\n  createContext,\n  useState,\n  useEffect,\n  useCallback\n} from 'react'\n\ninterface CarouselContextProps {\n  activeSlide: number\n  setActiveSlide: React.Dispatch<React.SetStateAction<number>>\n  totalSlides: number\n  slides: number | string\n  containerWidth: number\n  setContainerWidth: Function\n  contentWidth: number\n  setContentWidth: Function\n  gap: number | string\n  spaceStart: number | string\n}\n\ninterface SlidesProps {\n  [key: number]: number\n}\n\ninterface CarouselProviderProps {\n  children: React.ReactNode\n  totalSlides: number\n  slides?: number | SlidesProps\n  gap: number | string\n  spaceStart: number | string\n  loop: boolean\n}\n\nconst CarouselContext = createContext<CarouselContextProps | null>(null)\n\nexport const useCarouselContext = () => {\n  const context = useContext(CarouselContext)\n\n  if (!context)\n    throw Error('useCarouselContext must be used inside CarouselProvider')\n  return context\n}\n\nexport const CarouselProvider = ({\n  children,\n  totalSlides,\n  slides,\n  gap,\n  spaceStart,\n  loop\n}: CarouselProviderProps) => {\n  const [activeSlide, setActiveSlide] = useState<number>(0)\n  const [containerWidth, setContainerWidth] = useState<number>(0)\n  const [contentWidth, setContentWidth2] = useState<number>(0)\n  const [newSlides, setNewSlides] = useState<number>(spaceStart ? 2 : 1)\n\n  const setContentWidth = () => {\n    const s = Number(newSlides)\n    const gaps = Number(gap) * Math.floor(s - 1)\n    let newWidth = (containerWidth - gaps) / s\n    setContentWidth2(newWidth)\n  }\n\n  const computeSlides = () => {\n    if (typeof slides === 'object') {\n      const currSlides = Object.keys(slides).filter((value) => {\n        return Number(value) <= window.innerWidth\n      })\n      const key = Number(currSlides?.[currSlides.length - 1])\n      setNewSlides(slides?.[key || 0])\n    } else {\n      setNewSlides(Number(slides))\n    }\n  }\n\n  const getTotal = useCallback(\n    () =>\n      Math.ceil(\n        totalSlides /\n          Math.floor(Number(newSlides) - Math.ceil(Number(spaceStart)))\n      ),\n    [totalSlides, spaceStart, newSlides]\n  )\n\n  const computeActiveSlides = () => {\n    setActiveSlide((prev) => {\n      console.log(\n        prev,\n        getTotal(),\n        prev < getTotal() - 1 ? prev + 1 : 0,\n        (prev + 1) % getTotal()\n      )\n      return (prev + 1) % getTotal()\n    })\n  }\n\n  useEffect(() => {\n    computeSlides()\n    window.addEventListener('resize', computeActiveSlides)\n\n    return () => window.removeEventListener('resize', computeActiveSlides)\n  }, [slides])\n\n  useEffect(() => {\n    if (!loop) return\n\n    const timer = setInterval(computeActiveSlides, 5000)\n    return () => clearInterval(timer)\n  }, [])\n\n  useEffect(() => {\n    setContentWidth()\n  }, [containerWidth, newSlides])\n\n  return (\n    <CarouselContext.Provider\n      value={{\n        activeSlide,\n        setActiveSlide,\n        totalSlides,\n        slides: newSlides,\n        containerWidth,\n        setContainerWidth,\n        gap,\n        contentWidth,\n        setContentWidth,\n        spaceStart\n      }}\n    >\n      {children}\n    </CarouselContext.Provider>\n  )\n}\n","import { useCarouselContext } from '@/context/CarouselProvider'\nimport { useEffect, useState } from 'react'\n\nexport const CarouselArrowModel = () => {\n  const { activeSlide, slides, totalSlides, setActiveSlide, spaceStart } =\n    useCarouselContext()\n  const [isLeftActive, setLeftActive] = useState(true)\n  const [isRightActive, setRightActive] = useState(true)\n\n  const onClick = (click: number) => {\n    setSlide(click)\n  }\n\n  const getTotal = () =>\n    Math.ceil(\n      totalSlides / Math.floor(Number(slides) - Math.ceil(Number(spaceStart)))\n    )\n\n  const setSlide = (click: number = 0) => {\n    // TODO: slide to left animation\n    const newSlide = activeSlide + click\n    const last = getTotal()\n\n    if (newSlide <= -1 || newSlide >= last) return\n\n    setActiveSlide(newSlide)\n  }\n\n  useEffect(() => {\n    setLeftActive(activeSlide > 0)\n    setRightActive(activeSlide < getTotal() - 1)\n  }, [activeSlide])\n\n  return {\n    onClick,\n    isLeftActive,\n    isRightActive\n  }\n}\n","import React from 'react'\nimport './CarouselArrow.scss'\nimport { CarouselArrowModel } from './CarouselArrowModel'\n// import classNames from 'classNames'\n\nexport const CarouselArrow = () => {\n  const { onClick, isLeftActive, isRightActive } = CarouselArrowModel()\n\n  return (\n    <div className='carousel__arrows'>\n      <div\n        className={`carousel__arrow carousel__arrow__left ${\n          !isLeftActive ? 'carousel__arrow__disabled' : ''\n        }`}\n        onClick={() => onClick(-1)}\n      >\n        <span className='carousel__arrow__icon'></span>\n      </div>\n      <div\n        className={`carousel__arrow carousel__arrow__right\n          ${!isRightActive ? 'carousel__arrow__disabled' : ''}\n        `}\n        onClick={() => onClick(1)}\n      >\n        <span className='carousel__arrow__icon'></span>\n      </div>\n    </div>\n  )\n}\n","import { useCarouselContext } from '@/context/CarouselProvider'\n\nexport const CarouselPaginationModel = () => {\n  const { activeSlide, slides, totalSlides, spaceStart, setActiveSlide } =\n    useCarouselContext()\n\n  const getTotal = () =>\n    Math.ceil(\n      totalSlides / Math.floor(Number(slides) - Math.ceil(Number(spaceStart)))\n    )\n\n  const onClick = (click: number) => {\n    setActiveSlide(click)\n  }\n\n  return {\n    total: getTotal(),\n    active: activeSlide,\n    onClick\n  }\n}\n","import React from 'react'\nimport './CarouselPagination.scss'\nimport { CarouselPaginationProps } from './CarouselPagination.interface'\nimport { CarouselPaginationModel } from './CarouselPaginationModel'\n// import classNames from 'classNames'\n\nexport const CarouselPagination = (_: CarouselPaginationProps) => {\n  const { total, active, onClick } = CarouselPaginationModel()\n\n  return (\n    <div className='carousel__page'>\n      {Array.from({ length: total }, (_, i) => (\n        <div\n          key={i}\n          className={`\n            carousel__page__item\n            ${active === i ? 'carousel__page__item__active' : ''}\n          `}\n          onClick={() => onClick(i)}\n        ></div>\n      ))}\n    </div>\n  )\n}\n","import { useCarouselContext } from '@/context/CarouselProvider'\nimport { useEffect, useState } from 'react'\n\nexport const CarouselModel = (ref: any) => {\n  const {\n    activeSlide,\n    gap,\n    setContainerWidth,\n    slides,\n    contentWidth,\n    totalSlides,\n    spaceStart\n  } = useCarouselContext()\n  const [scroll, setScroll] = useState(0)\n\n  const getTotal = () =>\n    Math.ceil(\n      totalSlides / Math.floor(Number(slides) - Math.ceil(Number(spaceStart)))\n    )\n\n  const computeContainerWidth = () => {\n    if (ref.current) {\n      const containerWidth = ref.current.offsetWidth\n      setContainerWidth(containerWidth)\n    }\n  }\n\n  const setContentWidth = () => {\n    const conWidth = contentWidth + Number(gap)\n    const width =\n      Math.floor(Number(slides) - Math.ceil(Number(spaceStart))) * conWidth\n    let newScroll = activeSlide * width - Number(spaceStart) * conWidth\n\n    // TODO: fix\n    const isLastSlide = activeSlide === getTotal() - 1\n    const isPartialSlide = Number(slides) % 1 !== 0\n\n    if (isLastSlide && activeSlide !== 0) {\n      if (isPartialSlide) {\n        const fraction = Number(slides) - Math.floor(Number(slides))\n        newScroll -= contentWidth * fraction - Number(gap)\n      } else if (spaceStart) {\n        newScroll -= contentWidth * Number(spaceStart || 1) + Number(gap) / 2\n      }\n    }\n\n    setScroll(newScroll * -1)\n  }\n\n  useEffect(() => {\n    computeContainerWidth()\n  }, [ref])\n\n  useEffect(() => {\n    setContentWidth()\n  }, [contentWidth, activeSlide])\n\n  useEffect(() => {\n    window.addEventListener('resize', computeContainerWidth)\n\n    return () => window.removeEventListener('resize', computeContainerWidth)\n  }, [])\n\n  return { scroll }\n}\n","import React, { useRef } from 'react'\nimport './Carousel.scss'\nimport { CarouselProps } from './Carousel.interface'\nimport { CarouselArrow } from '../CarouselArrow/CarouselArrow'\nimport { CarouselPagination } from '../CarouselPagination/CarouselPagination'\nimport { CarouselProvider } from '@/context/CarouselProvider'\nimport { CarouselModel } from './CarouselModel'\n// import classNames from 'classNames'\n\nexport const Carousel = ({ children, ...props }: CarouselProps) => {\n  const totalSlides = React.Children.toArray(children).length\n  const { slides, gap = 0, spaceStart = 0, loop = true } = props\n  return (\n    <CarouselProvider\n      totalSlides={totalSlides}\n      slides={slides}\n      gap={gap}\n      spaceStart={spaceStart}\n      loop={loop}\n    >\n      <CarouselContent {...props}>{children}</CarouselContent>\n    </CarouselProvider>\n  )\n}\n\nconst CarouselContent = ({ children, ...props }: CarouselProps) => {\n  const ref = useRef(null)\n  const { hasArrow = true, hasPaging = true, gap = 15, className } = props\n  const { scroll } = CarouselModel(ref)\n\n  return (\n    <div ref={ref} className={`carousel ${className ?? ''}`}>\n      <div\n        className='carousel__content'\n        style={{ transform: `translateX(${scroll}px)`, gap: `${gap}px` }}\n      >\n        {children}\n      </div>\n\n      {hasArrow && <CarouselArrow />}\n      {hasPaging && <CarouselPagination />}\n    </div>\n  )\n}\n","import { useCarouselContext } from '@/context/CarouselProvider'\n\nexport const CarouselItemModel = () => {\n  const { contentWidth } = useCarouselContext()\n\n  return { width: contentWidth }\n}\n","import React from 'react'\nimport { CarouselItemProps } from './CarouselItem.interface'\nimport './CarouselItem.scss'\nimport { CarouselItemModel } from './CarouselItemModel'\n// import classNames from 'classNames'\n\nexport const CarouselItem = ({\n  children,\n  className,\n  onClick\n}: CarouselItemProps) => {\n  const { width } = CarouselItemModel()\n\n  return (\n    <div\n      className={`carousel__item ${className ?? ''}`}\n      style={{ width: `${width}px`, minWidth: `${width}px` }}\n      onClick={onClick}\n    >\n      {children}\n    </div>\n  )\n}\n"],"names":["CarouselContext","createContext","useCarouselContext","context","useContext","Error","CarouselProvider","_ref","children","totalSlides","slides","gap","spaceStart","loop","_useState","useState","activeSlide","setActiveSlide","_useState2","containerWidth","setContainerWidth","_useState3","contentWidth","setContentWidth2","_useState4","newSlides","setNewSlides","setContentWidth","s","Number","gaps","Math","floor","newWidth","computeSlides","currSlides","Object","keys","filter","value","window","innerWidth","key","length","getTotal","useCallback","ceil","computeActiveSlides","prev","console","log","useEffect","addEventListener","removeEventListener","timer","setInterval","clearInterval","React","Provider","CarouselArrowModel","_useCarouselContext","isLeftActive","setLeftActive","isRightActive","setRightActive","onClick","click","setSlide","newSlide","last","CarouselArrow","_CarouselArrowModel","className","CarouselPaginationModel","total","active","CarouselPagination","_","_CarouselPaginationMo","Array","from","i","CarouselModel","ref","scroll","setScroll","computeContainerWidth","current","offsetWidth","conWidth","width","newScroll","isLastSlide","isPartialSlide","fraction","Carousel","props","_objectWithoutPropertiesLoose","_excluded","Children","toArray","_props$gap","_props$spaceStart","_props$loop","CarouselContent","_ref2","_excluded2","useRef","_props$hasArrow","hasArrow","_props$hasPaging","hasPaging","_props$gap2","_CarouselModel","style","transform","CarouselItemModel","CarouselItem","_CarouselItemModel","minWidth"],"mappings":"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"}